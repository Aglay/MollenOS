; Listing generated by Microsoft (R) Optimizing Compiler Version 16.00.40219.01 

	TITLE	C:\Users\Phail\Documents\GitHub\MollenOS\clib\src\stdio\sprintf.c
	.686P
	.XMM
	include listing.inc
	.model	flat

INCLUDELIB MSVCRT
INCLUDELIB OLDNAMES

PUBLIC	_sprintf
EXTRN	_streamout:PROC
; Function compile flags: /Ogtp
; File c:\users\phail\documents\github\mollenos\clib\src\stdio\sprintf.c
;	COMDAT _sprintf
_TEXT	SEGMENT
_out$ = 8						; size = 4
_format$ = 12						; size = 4
_sprintf PROC						; COMDAT

; 16   : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp

; 17   : 	va_list args;
; 18   : 
; 19   : 	if(format == NULL || out == NULL)

  00003	8b 45 0c	 mov	 eax, DWORD PTR _format$[ebp]
  00006	85 c0		 test	 eax, eax
  00008	74 1e		 je	 SHORT $LN1@sprintf
  0000a	83 7d 08 00	 cmp	 DWORD PTR _out$[ebp], 0
  0000e	74 18		 je	 SHORT $LN1@sprintf

; 21   : 
; 22   : 	va_start( args, format );
; 23   : 	return streamout( &out, 0x200000, format, args );

  00010	8d 4d 10	 lea	 ecx, DWORD PTR _format$[ebp+4]
  00013	51		 push	 ecx
  00014	50		 push	 eax
  00015	8d 55 08	 lea	 edx, DWORD PTR _out$[ebp]
  00018	68 00 00 20 00	 push	 2097152			; 00200000H
  0001d	52		 push	 edx
  0001e	e8 00 00 00 00	 call	 _streamout
  00023	83 c4 10	 add	 esp, 16			; 00000010H

; 24   : }

  00026	5d		 pop	 ebp
  00027	c3		 ret	 0
$LN1@sprintf:

; 20   : 		return -1;

  00028	83 c8 ff	 or	 eax, -1

; 24   : }

  0002b	5d		 pop	 ebp
  0002c	c3		 ret	 0
_sprintf ENDP
_TEXT	ENDS
END
