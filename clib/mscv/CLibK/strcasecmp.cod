; Listing generated by Microsoft (R) Optimizing Compiler Version 18.00.31101.0 

	TITLE	C:\Users\Philip\Documents\GitHub\MollenOS\clib\src\string\strcasecmp.c
	.686P
	.XMM
	include listing.inc
	.model	flat

INCLUDELIB MSVCRT
INCLUDELIB OLDNAMES

PUBLIC	_strcasecmp
PUBLIC	___tolower
EXTRN	__ctype:BYTE
; Function compile flags: /Ogtp
; File c:\users\philip\documents\github\mollenos\clib\include\ctype.h
;	COMDAT ___tolower
_TEXT	SEGMENT
_c$ = 8							; size = 1
___tolower PROC						; COMDAT

; 61   : __inline unsigned char __tolower(unsigned char c) {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp

; 62   :         return isupper(c) ? c - ('A' - 'a') : c;

  00003	8b 45 08	 mov	 eax, DWORD PTR _c$[ebp]
  00006	0f b6 c0	 movzx	 eax, al
  00009	f6 80 00 00 00
	00 01		 test	 BYTE PTR __ctype[eax], 1
  00010	74 03		 je	 SHORT $LN4@tolower
  00012	83 c0 20	 add	 eax, 32			; 00000020H
$LN4@tolower:

; 63   : }

  00015	5d		 pop	 ebp
  00016	c3		 ret	 0
___tolower ENDP
_TEXT	ENDS
; Function compile flags: /Ogtp
; File c:\users\philip\documents\github\mollenos\clib\src\string\strcasecmp.c
; File c:\users\philip\documents\github\mollenos\clib\include\ctype.h
; File c:\users\philip\documents\github\mollenos\clib\src\string\strcasecmp.c
; File c:\users\philip\documents\github\mollenos\clib\include\ctype.h
; File c:\users\philip\documents\github\mollenos\clib\src\string\strcasecmp.c
;	COMDAT _strcasecmp
_TEXT	SEGMENT
_s1$ = 8						; size = 4
_s2$ = 12						; size = 4
_strcasecmp PROC					; COMDAT

; 10   : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp

; 11   : 	const unsigned char *ucs1 = (const unsigned char *) s1;

  00003	8b 4d 08	 mov	 ecx, DWORD PTR _s1$[ebp]
  00006	56		 push	 esi

; 12   : 	const unsigned char *ucs2 = (const unsigned char *) s2;

  00007	8b 75 0c	 mov	 esi, DWORD PTR _s2$[ebp]
  0000a	8d 9b 00 00 00
	00		 npad	 6
$LL4@strcasecmp:
; File c:\users\philip\documents\github\mollenos\clib\include\ctype.h

; 62   :         return isupper(c) ? c - ('A' - 'a') : c;

  00010	0f b6 01	 movzx	 eax, BYTE PTR [ecx]
  00013	f6 80 00 00 00
	00 01		 test	 BYTE PTR __ctype[eax], 1
  0001a	74 03		 je	 SHORT $LN9@strcasecmp
  0001c	83 c0 20	 add	 eax, 32			; 00000020H
$LN9@strcasecmp:
; File c:\users\philip\documents\github\mollenos\clib\src\string\strcasecmp.c

; 16   : 		const int c1 = tolower(*ucs1++);

  0001f	0f b6 d0	 movzx	 edx, al
  00022	41		 inc	 ecx
; File c:\users\philip\documents\github\mollenos\clib\include\ctype.h

; 62   :         return isupper(c) ? c - ('A' - 'a') : c;

  00023	0f b6 06	 movzx	 eax, BYTE PTR [esi]
  00026	f6 80 00 00 00
	00 01		 test	 BYTE PTR __ctype[eax], 1
  0002d	74 03		 je	 SHORT $LN13@strcasecmp
  0002f	83 c0 20	 add	 eax, 32			; 00000020H
$LN13@strcasecmp:
; File c:\users\philip\documents\github\mollenos\clib\src\string\strcasecmp.c

; 17   : 		const int c2 = tolower(*ucs2++);

  00032	0f b6 c0	 movzx	 eax, al
  00035	46		 inc	 esi

; 18   : 		
; 19   : 		if (((d = c1 - c2) != 0) || (c2 == '\0'))

  00036	2b d0		 sub	 edx, eax
  00038	75 04		 jne	 SHORT $LN19@strcasecmp
  0003a	85 c0		 test	 eax, eax
  0003c	75 d2		 jne	 SHORT $LL4@strcasecmp
$LN19@strcasecmp:

; 20   : 			break;
; 21   : 	}
; 22   : 	return d;

  0003e	8b c2		 mov	 eax, edx
  00040	5e		 pop	 esi

; 23   : }

  00041	5d		 pop	 ebp
  00042	c3		 ret	 0
_strcasecmp ENDP
_TEXT	ENDS
END
