<?xml version="1.0" encoding="UTF-8" standalone="no" ?>
<root>
    <types>
        <type name="uint32_t" header="stdint.h" />
    </types>
    <protocols namespace="wm">
        <protocol name="core" id="0x10">
            <enums>
                <enum name="object_type">
                    <value name="object_screen"></value>
                    <value name="object_shm"></value>
                    <value name="object_surface"></value>
                    <value name="object_buffer"></value>
                </enum>
            </enums>
            
            <functions>
                <function name="sync" synchronous="false">
                    <request>
                        <param name="serial" type="uint32_t" count="1" />
                    </request>
                    <response>
                        <param name="serial" type="uint32_t" count="1" />
                    </response>
                </function>
                <function name="get_state" synchronous="false" />
            </functions>
            
            <events>
                <event name="error">
                    <param name="object_id" type="uint32_t" count="1" />
                    <param name="error_id" type="int" count="1" />
                    <param name="error_description" type="char" count="64" />
                </event>
                <event name="state">
                    <param name="object_id" type="uint32_t" count="1" />
                    <param name="type" type="object_type" count="1" />
                </event>
            </events>
        </protocol>
        
        <protocol name="screen"  id="0x11">
            <functions>
                <function name="get_properties" synchronous="false">
                    <request>
                        <param name="object_id" type="uint32_t" count="1" />
                    </request>
                    <response>
                        <param name="object_id" type="uint32_t" count="1" />
                    </response>
                </function>
                <function name="get_modes" synchronous="false" />
                <function name="set_scale" synchronous="false">
                    <request>
                        <param name="object_id" type="uint32_t" count="1" />
                    </request>
                    <response>
                        <param name="object_id" type="uint32_t" count="1" />
                    </response>
                </function>
                <function name="create_surface" synchronous="false">
                    <request>
                        <param name="object_id" type="uint32_t" count="1" />
                    </request>
                    <response>
                        <param name="object_id" type="uint32_t" count="1" />
                    </response>
                </function>
            </functions>
            
            <events>
                
            </events>
        </protocol>
        
        <protocol name="shm" id="0x12">
            <functions>
                <function name="create_buffer" synchronous="false">
                    <request>
                        <param name="object_id" type="uint32_t" count="1" />
                    </request>
                    <response>
                        <param name="object_id" type="uint32_t" count="1" />
                    </response>
                </function>
            </functions>
            
            <events>
                
            </events>
        </protocol>
        
        <protocol name="surface" id="0x13">
            <enums>
                <enum name="format">
                    <value name="surface_a8r8g8b8"></value>
                    <value name="surface_x8r8g8b8"></value>
                </enum>
            </enums>
            
            <functions>
                <function name="get_formats" synchronous="false">
                    <request>
                        <param name="object_id" type="uint32_t" count="1" />
                    </request>
                </function>
                <function name="set_buffer" synchronous="false" />
                <function name="commit" synchronous="false" />
                <function name="invalidate" synchronous="false" />
                <function name="destroy" synchronous="false" />
            </functions>
            
            <events>
                <event name="format">
                    <param name="object_id" type="uint32_t" count="1" />
                    <param name="format" type="format" count="1" />
                </event>
            </events>
        </protocol>
        
        <protocol name="buffer" id="0x14">
            <functions>
                <function name="destroy" synchronous="false">
                    <request>
                        <param name="object_id" type="uint32_t" count="1" />
                    </request>
                </function>
            </functions>
            
            <events>
                <event name="release">
                    <param name="object_id" type="uint32_t" count="1" />
                </event>
            </events>
        </protocol>
    </protocols>
</root>
